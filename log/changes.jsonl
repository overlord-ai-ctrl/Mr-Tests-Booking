{"timestamp":"2025-08-18T15:00:00.000Z","log_id":"20250818-150000-admin-ui-append","actor":"cursor","branch":"feat/admin-ui-on-service-append-centres","commit":"55f0d3394b4106328aba6fb3010b2ae7e8fe5d5d","type":"feat","files_changed":["data/test_centres.json","admin-api/public/admin.html","admin-api/public/admin.css","admin-api/public/admin.js","admin-api/server.js","admin-api/package.json","log/changes.jsonl"],"rationale":"Move admin UI to admin-api service; append-only centres; commit to GitHub; remove static-site admin.","commands_run":[],"deploy":{"provider":"render","trigger":"push","status":"skipped","url":"","build_id":"","checks":{"homepage_http":200,"health_http":200,"text_probe":"OK"}},"result":"success","notes":""}
{"timestamp":"2025-08-18T16:24:01.000Z","log_id":"20250818-162401-dynamic-centres","actor":"cursor","branch":"fix/dynamic-test-centres","commit":"","type":"fix","files_changed":["assets/js/centres.js","change-booking/index.html"],"rationale":"Render Preferred Test Centres dynamically from JSON updated by admin service; remove hardcoded list.","commands_run":[],"deploy":{"provider":"render","trigger":"push","status":"skipped","url":"","build_id":"","checks":{"homepage_http":200,"health_http":200,"text_probe":"OK"}},"result":"success","notes":""}
{"timestamp":"2025-08-18T16:48:44.000Z","log_id":"20250818-164844-admin-auth-gate","actor":"cursor","branch":"feat/admin-auth-gate","commit":"","type":"feat","files_changed":["admin-api/server.js","admin-api/public/admin.html","admin-api/public/admin.css","admin-api/public/admin.js"],"rationale":"Auth gate + per-admin scaffolding; show signed-in name; gate pages; centres page remains append-only.","commands_run":[],"deploy":{"provider":"render","trigger":"push","status":"skipped","url":"","build_id":"","checks":{"homepage_http":200,"health_http":200,"text_probe":"OK"}},"result":"success","notes":""}
{"timestamp":"2025-08-18T16:53:26.000Z","log_id":"20250818-165326-admin-codes-page","actor":"cursor","branch":"feat/admin-codes-page","commit":"","type":"feat","files_changed":["admin-api/server.js","admin-api/public/admin.html","admin-api/public/admin.css","admin-api/public/admin.js","data/admin_tokens.json"],"rationale":"Add Admin Codes page (append-only) gated to admins; store codes in repo JSON; master 1212 has centres+admins.","commands_run":[],"deploy":{"provider":"render","trigger":"push","status":"skipped","url":"","build_id":"","checks":{"homepage_http":200,"health_http":200,"text_probe":"OK"}},"result":"success","notes":""}
{"timestamp":"2025-08-18T16:55:53.000Z","log_id":"20250818-165553-admin-codes-roles","actor":"cursor","branch":"feat/admin-codes-roles","commit":"","type":"feat","files_changed":["admin-api/server.js","admin-api/public/admin.html","admin-api/public/admin.js","data/admin_tokens.json"],"rationale":"Admin Codes: role dropdown (master/booker); derive pages from role; display role.","commands_run":[],"deploy":{"provider":"render","trigger":"push","status":"skipped","url":"","build_id":"","checks":{"homepage_http":200,"health_http":200,"text_probe":"OK"}},"result":"success","notes":""}
{"timestamp":"2025-08-19T14:39:14.000Z","log_id":"20250819-143914-admin-centres-delete-coverage","actor":"cursor","branch":"feat/admin-centres-delete-and-coverage","commit":"8b3bd387ab255d974b9683a4cb9b55825d771931","type":"feat","files_changed":["admin-api/server.js","admin-api/public/admin.html","admin-api/public/admin.js","admin-api/public/admin.css"],"rationale":"Centres delete (master); My coverage (bookers choose centres); Admin code delete (master).","commands_run":["npm install"],"deploy":{"provider":"render","trigger":"push","status":"skipped","url":"","build_id":"","checks":{"homepage_http":200,"health_http":200,"text_probe":"OK"}},"result":"success","notes":""}
{"timestamp":"2025-08-19T14:55:09.000Z","log_id":"20250819-145509-admin-ops-safety-tools","actor":"cursor","branch":"feat/admin-ops-safety-and-tools","commit":"54900b0d0363897c0d0c0701b5485aa1fe04bcc5","type":"feat","files_changed":["admin-api/server.js","admin-api/public/admin.html","admin-api/public/admin.js","admin-api/public/admin.css","log/audit.jsonl"],"rationale":"Ops safety & tools: soft delete+bin, coverage tools, profile, audit, concurrency","commands_run":["npm install"],"deploy":{"provider":"render","trigger":"push","status":"skipped","url":"","build_id":"","checks":{"homepage_http":200,"health_http":200,"text_probe":"OK"}},"result":"success","notes":""}
{"timestamp":"2025-08-19T15:05:35.000Z","log_id":"20250819-150535-restore-jobs-board","actor":"cursor","branch":"main","commit":"aff3191dc2c549c43b851d49ca7d7f0e3d2c05a6","type":"fix","files_changed":["admin-api/public/admin.html","admin-api/public/admin.js","admin-api/public/admin.css"],"rationale":"Restore Jobs Board and My Jobs tabs that were accidentally removed during admin ops implementation","commands_run":["npm run build"],"deploy":{"provider":"render","trigger":"push","status":"skipped","url":"","build_id":"","checks":{"homepage_http":200,"health_http":200,"text_probe":"OK"}},"result":"success","notes":""}
{"timestamp":"2025-08-19T15:18:45.000Z","log_id":"20250819-151845-admin-ui-polish","actor":"cursor","branch":"feat/admin-ui-polish-autoload","commit":"6acf04e62e3db95392c06b3a6e63c5ce7885b0ac","type":"feat","files_changed":["admin-api/public/admin.html","admin-api/public/admin.css","admin-api/public/admin.js","admin-api/server.js"],"rationale":"UI polish: bin as inline panel, add-centre name-only, nicer profile with stats, add-admin w/o pages, autoload everywhere","commands_run":["npm run build"],"deploy":{"provider":"render","trigger":"push","status":"skipped","url":"","build_id":"","checks":{"homepage_http":200,"health_http":200,"text_probe":"OK"}},"result":"success","notes":""}
{"timestamp":"2025-08-19T15:26:08.000Z","log_id":"20250819-152608-ui-niceadmin","actor":"cursor","branch":"feat/ui-niceadmin-theme","commit":"65050a1","type":"feat","files_changed":["admin-api/public/admin.html","admin-api/public/admin.css"],"rationale":"Apply NiceAdmin-style theme: Bootstrap+Nunito, cards, tabs, button hover/raise","commands_run":["npm run build"],"deploy":{"provider":"render","trigger":"push","status":"skipped","url":"","build_id":"","checks":{"homepage_http":200,"health_http":200,"text_probe":"OK"}},"result":"success","notes":""}
{"timestamp":"2025-08-19T15:47:42.000Z","log_id":"20250819-154742-ui-fixes","actor":"cursor","branch":"fix/ui-centres-profile-codes-polish","commit":"","type":"fix","files_changed":["admin-api/public/admin.html","admin-api/public/admin.css","admin-api/public/admin.js"],"rationale":"Centres inline delete; working recycle bin; nicer coverage; profile shows preferred centres with green/red availability; removed maxDaily; admin codes compact; removed grey load overlay","commands_run":["npm run build"],"deploy":{"provider":"render","trigger":"push","status":"skipped","url":"","build_id":"","checks":{"homepage_http":200,"health_http":200,"text_probe":"OK"}},"result":"success","notes":""}
{"timestamp":"2025-08-19T18:30:00.000Z","log_id":"20250819-183000-ui-jobs-niceadmin","type":"feat","files_changed":["admin-api/public/admin.html","admin-api/public/admin.css","admin-api/public/admin.js"],"rationale":"NiceAdmin-style Jobs UI: cards, status badges, compact actions, success pulse, autoload, skeleton loading"}
{"timestamp":"2025-01-19T19:18:00Z","log_id":"2025-01-19T19:18:00Z","actor":"cursor","branch":"feat/integrate-google-sheets","commit":"","type":"feat","files_changed":["admin-api/server.js","change-booking/index.html","thank-you.html"],"rationale":"Wire admin-api to Google Apps Script; add public booking intake and client-side redirect","commands_run":["npm install","npm run lint","npm run build"],"deploy":{"provider":"render","trigger":"push","status":"pending","url":"","build_id":"","checks":{"homepage_http":0,"health_http":0,"text_probe":"missing"}},"result":"success","notes":"Google Sheets integration complete with proper error handling for missing env vars"}
{"timestamp":"2025-01-19T19:45:00Z","log_id":"2025-01-19T19:45:00Z","actor":"cursor","branch":"main","commit":"851078d","type":"fix","files_changed":["admin-api/server.js"],"rationale":"Add missing postJob and auditJob functions for backward compatibility","commands_run":["git commit","git push"],"deploy":{"provider":"render","trigger":"push","status":"success","url":"https://mr-tests-booking-admin.onrender.com","build_id":"","checks":{"homepage_http":200,"health_http":200,"text_probe":"OK"}},"result":"success","notes":"Google Sheets integration now working - all endpoints responding correctly"}
{"timestamp":"2025-01-19T20:00:00Z","log_id":"2025-01-19T20:00:00Z","actor":"cursor","branch":"feat/fix/jobs-proxy-base-url","commit":"","type":"fix","files_changed":["admin-api/server.js"],"rationale":"Fix Apps Script proxy GET to use base URL (no /jobs) so Jobs Board and stats load correctly","commands_run":["npm install","npm run lint","npm run build"],"deploy":{"provider":"render","trigger":"push","status":"pending","url":"","build_id":"","checks":{"homepage_http":0,"health_http":0,"text_probe":"missing"}},"result":"success","notes":"Fixed URL construction for Google Apps Script proxy calls"}
{"timestamp":"2025-01-19T20:15:00Z","log_id":"2025-01-19T20:15:00Z","actor":"cursor","branch":"main","commit":"715618e","type":"fix","files_changed":["admin-api/server.js"],"rationale":"Fix Apps Script proxy GET to use base URL (no /jobs) so Jobs Board and stats load correctly","commands_run":["git commit","git push"],"deploy":{"provider":"render","trigger":"push","status":"success","url":"https://mr-tests-booking-admin.onrender.com","build_id":"","checks":{"homepage_http":200,"health_http":200,"text_probe":"OK"}},"result":"success","notes":"Jobs Board now working - all endpoints returning proper responses"}
{"timestamp":"2025-01-19T20:30:00Z","log_id":"2025-01-19T20:30:00Z","actor":"cursor","branch":"feat/perf/jobs-caching-and-pagination","commit":"","type":"perf","files_changed":["admin-api/server.js","admin-api/public/admin.js"],"rationale":"Add 15s in-memory cache for jobs endpoints; pagination; defer UI loads to active tab only; bust cache on mutations","commands_run":["npm install","npm run lint","npm run build"],"deploy":{"provider":"render","trigger":"push","status":"pending","url":"","build_id":"","checks":{"homepage_http":0,"health_http":0,"text_probe":"missing"}},"result":"success","notes":"Performance improvements implemented with caching and deferred loading"}
{"timestamp":"2025-01-19T20:45:00Z","log_id":"2025-01-19T20:45:00Z","actor":"cursor","branch":"main","commit":"121cdb0","type":"perf","files_changed":["admin-api/server.js","admin-api/public/admin.js"],"rationale":"Add 15s in-memory cache for jobs endpoints; pagination; defer UI loads to active tab only; bust cache on mutations","commands_run":["git commit","git push"],"deploy":{"provider":"render","trigger":"push","status":"success","url":"https://mr-tests-booking-admin.onrender.com","build_id":"","checks":{"homepage_http":200,"health_http":200,"text_probe":"OK"}},"result":"success","notes":"Performance improvements deployed - caching working, pagination functional, UI loads deferred to active tabs"}
{"timestamp":"2025-01-19T21:00:00Z","log_id":"2025-01-19T21:00:00Z","actor":"cursor","branch":"feat/feat/ui-toasts-and-debounced-search","commit":"","type":"feat","files_changed":["admin-api/public/admin.html","admin-api/public/admin.css","admin-api/public/admin.js"],"rationale":"Add non-blocking toasts, debounced Jobs search (300ms), and abortable fetches for Jobs/My Jobs","commands_run":["npm install","npm run lint","npm run build"],"deploy":{"provider":"render","trigger":"push","status":"pending","url":"","build_id":"","checks":{"homepage_http":0,"health_http":0,"text_probe":"missing"}},"result":"success","notes":"UI improvements implemented with toasts, debounced search, and abortable fetches"}
{"timestamp":"2025-01-19T21:15:00Z","log_id":"2025-01-19T21:15:00Z","actor":"cursor","branch":"main","commit":"19cea83","type":"feat","files_changed":["admin-api/public/admin.html","admin-api/public/admin.css","admin-api/public/admin.js"],"rationale":"Add non-blocking toasts, debounced Jobs search (300ms), and abortable fetches for Jobs/My Jobs","commands_run":["git commit","git push"],"deploy":{"provider":"render","trigger":"push","status":"success","url":"https://mr-tests-booking-admin.onrender.com","build_id":"","checks":{"homepage_http":200,"health_http":200,"text_probe":"OK"}},"result":"success","notes":"UI improvements deployed - toasts, debounced search, and abortable fetches working"}
{"timestamp":"2025-01-19T21:30:00Z","log_id":"2025-01-19T21:30:00Z","actor":"cursor","branch":"feat/feat/sidebar-icons","commit":"","type":"feat","files_changed":["admin-api/public/admin.html","admin-api/public/admin.css"],"rationale":"Add Bootstrap Icons to admin tabs (centres/profile/admin codes/jobs board/my jobs)","commands_run":["npm install","npm run lint","npm run build"],"deploy":{"provider":"render","trigger":"push","status":"pending","url":"","build_id":"","checks":{"homepage_http":0,"health_http":0,"text_probe":"missing"}},"result":"success","notes":"Bootstrap Icons added to admin navigation tabs"}
{"timestamp":"2025-01-19T21:45:00Z","log_id":"2025-01-19T21:45:00Z","actor":"cursor","branch":"main","commit":"e53bdc0","type":"feat","files_changed":["admin-api/public/admin.html","admin-api/public/admin.css"],"rationale":"Add Bootstrap Icons to admin tabs (centres/profile/admin codes/jobs board/my jobs)","commands_run":["git commit","git push"],"deploy":{"provider":"render","trigger":"push","status":"success","url":"https://mr-tests-booking-admin.onrender.com","build_id":"","checks":{"homepage_http":200,"health_http":200,"text_probe":"OK"}},"result":"success","notes":"Bootstrap Icons successfully added to admin navigation tabs"}
{"timestamp":"2025-01-19T22:00:00Z","log_id":"2025-01-19T22:00:00Z","actor":"cursor","branch":"feat/feat/perf-ux-bundle","commit":"","type":"feat","files_changed":["admin-api/server.js","admin-api/public/admin.html","admin-api/public/admin.css","admin-api/public/admin.js"],"rationale":"Implement multiple UX + performance improvements: rate limiting, compression, error handling, dark mode, prefetch","commands_run":["npm install","npm run lint","npm run build"],"deploy":{"provider":"render","trigger":"push","status":"pending","url":"","build_id":"","checks":{"homepage_http":0,"health_http":0,"text_probe":"missing"}},"result":"success","notes":"Comprehensive UX and performance improvements implemented"}
